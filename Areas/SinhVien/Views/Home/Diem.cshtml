@model IEnumerable<qlsv.Models.Diem>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Score Table</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-5">
    <h3 class="text-primary" style="cursor: pointer;" onclick="toggleTable()">Năm học 2023_2024 - Học kỳ 2</h3>
    <table id="scoreTable" class="table table-bordered table-striped table-hover">
        <thead class="table-primary">
            <tr>
                <th scope="col">STT</th>
                <th scope="col">Mã học phần</th>
                <th scope="col">Tên học phần</th>
                <th scope="col">Số tín chỉ</th>
                <th scope="col">Lần học</th>
                <th scope="col">Lần thi</th>
                <th scope="col">Điểm hệ 10</th>
                <th scope="col">Điểm hệ 4</th>
                <th scope="col">Điểm chữ</th>
                <th scope="col">Đánh giá</th>
                <th scope="col">Ghi chú</th>
                <th scope="col">Chi tiết</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null && Model.Any())
            {
                int index = 1;
                foreach (var item in Model)
                {
                    <tr>
                        <td>@index</td>
                        <td>@item.IdLopHocPhan</td>
                        <td>@item.IdLopHocPhanNavigation?.TenHocPhan</td>
                        <td>3</td> <!-- Thông tin số tín chỉ không có trong model nên tạm đặt là 3 -->
                        <td>1</td> <!-- Thông tin lần học không có trong model -->
                        <td>1</td> <!-- Thông tin lần thi không có trong model -->
                        <td>@item.DiemTongKet</td>
                        <td>@(item.DiemTongKet >= 9 ? 4 : item.DiemTongKet >= 8 ? 3.5 : item.DiemTongKet >= 7 ? 3 : item.DiemTongKet >= 6 ? 2.5 : 2)</td>
                        <td>@(item.DiemTongKet >= 9 ? "A" : item.DiemTongKet >= 8 ? "B+" : item.DiemTongKet >= 7 ? "B" : item.DiemTongKet >= 6 ? "C+" : "C")</td>
                        <td>@(item.DiemTongKet >= 5 ? "DAT" : "KHONG DAT")</td>
                        <td></td>
                        <td><a href="#">Chi tiết</a></td>
                    </tr>
                    index++;
                }
            }
            else
            {
                <tr>
                    <td colspan="12" class="text-center">Không có dữ liệu</td>
                </tr>
            }
        </tbody>
    </table>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function toggleTable() {
        const table = document.getElementById("scoreTable");
        if (table.style.display === "none") {
            table.style.display = "table";
        } else {
            table.style.display = "none";
        }
    }

    document.getElementById("scoreTable").style.display = "table";
</script>
</body>
</html>
